
@{
    ViewBag.Title = "Appointment History";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
<div class="form-grids row widget-shadow" data-example-id="basic-forms">
    <div class="form-title">
        <h4>Appointment History</h4>
    </div>
    <div class="form-body">
        <div class="table-responsive">
            <table class="table" id="table_appoint_history">
                <thead class="bg-info">
                    <tr>
                        <td>Appointment ID</td>
                        <td>Doctor ID</td>
                        <td>Patient UserName</td>
                        <td>Schedule Date</td>
                        <td>Schedule Time</td>
                        <td>Booked Date</td>
                        <td>Appointment Desc</td>
                        <td>Prescription</td>
                        <td>Medicine</td>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {

        $.get('/Admin/FetchAppointHistory', function (data) {
            data = JSON.parse(data);
            var rows = "";



            for (var i = 0; i < data.Table.length; i++) {
                rows += '<tr><td>' + data.Table[i].APPOINT_ID + '</td><td>' + data.Table[i].DOCTOR_ID + '</td><td>' + data.Table[i].PATIENT_USERNAME + '</td><td>' + data.Table[i].SCHEDULE_DATE + '</td><td>' + data.Table[i].SCHEDULE_TIME + '</td><td>' + data.Table[i].BOOKED_DATE + '</td><td>' + data.Table[i].APPOINT_DESC + '</td><td>' + data.Table[i].PRESCRIPTION + '</td><td>' + data.Table[i].MEDICINE + '</td></tr>';
            }


            /*    $.each(data.Table, function (i, v1) {
                    rows += '<tr><td>' + v1.APPOINT_ID + '</td><td>' + v1.DOCTOR_ID + '</td><td>' + v1.PATIENT_USERNAME + '</td><td>' + v1.SCHEDULE_DATE + '</td><td>' + v1.SCHEDULE_TIME + '</td><td>' + v1.BOOKED_DATE + '</td><td>' + v1.APPOINT_DESC + '</td><td>' + V1.PRESCRIPTION + '</td><td>' + v1.MEDICINE + '</td></tr>';
                    alert(rows);
                });*/

            $('#table_appoint_history tbody').html(rows);

            $('#table_appoint_history').DataTable();

        });

    });
</script>

